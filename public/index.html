<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Albion Market Scanner</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        
        <div class="scanner-controls">
            <div class="control-group">
                <label>Buy City</label>
                <select id="citySelect">
                    <option value="Martlock">Martlock</option>
                    <option value="Bridgewatch">Bridgewatch</option>
                    <option value="Lymhurst">Lymhurst</option>
                    <option value="Fort Sterling">Fort Sterling</option>
                    <option value="Thetford">Thetford</option>
                    <option value="Caerleon">Caerleon</option>
                </select>
            </div>

            <div class="button-group">
                <button onclick="startBatchScan()" class="scan-btn">
                    <i class="fas fa-search"></i> Scan All Markets
                </button>
                <button onclick="verifyCurrentItems()" class="refresh-btn">
                    <i class="fas fa-sync-alt"></i> Refresh Prices
                </button>
                <button onclick="resetHidden()" class="reset-btn">
                    <i class="fas fa-trash-restore"></i> Show Hidden
                </button>
            </div>
        </div>

        <div class="filters-toolbar">
            <div class="filter-group">
                <label><i class="fas fa-filter"></i> Filter by Type:</label>
                <select id="typeFilter" onchange="applyFiltersAndSort()">
                    <option value="ALL">Show All Items</option>
                    <option value="Sword">Swords</option>
                    <option value="Axe">Axes</option>
                    <option value="Mace">Maces</option>
                    <option value="Hammer">Hammers</option>
                    <option value="Spear">Spears</option>
                    <option value="Dagger">Daggers</option>
                    <option value="Quarterstaff">Quarterstaffs</option>
                    <option value="Bow">Bows</option>
                    <option value="Crossbow">Crossbows</option>
                    <option value="Cursed Staff">Cursed Staffs</option>
                    <option value="Fire Staff">Fire Staffs</option>
                    <option value="Frost Staff">Frost Staffs</option>
                    <option value="Arcane Staff">Arcane Staffs</option>
                    <option value="Holy Staff">Holy Staffs</option>
                    <option value="Nature Staff">Nature Staffs</option>
                    <option value="Plate Armor">Plate Armor</option>
                    <option value="Leather Armor">Leather Armor</option>
                    <option value="Cloth Armor">Cloth Armor</option>
                    <option value="Off-Hand">Off-Hands</option>
                </select>
            </div>
        </div>

        <div class="table-wrapper">
            <table class="dark-table">
                <thead>
                    <tr>
                        <th style="width: 25%">Item Name</th>
                        <th style="width: 9%">Buy At</th>
                        <th style="width: 9%">Sell At</th>
                        <th style="width: 10%">Strategy</th>
                        <th style="width: 17%">Materials</th>
                        <th style="width: 8%">Cost</th>
                        
                        <th style="width: 9%; cursor:pointer;" onclick="handleSort('profitPrem')">
                            Profit (Prem) <i class="fas fa-sort-down" id="icon-profitPrem"></i>
                        </th>
                        
                        <th style="width: 9%; cursor:pointer;" onclick="handleSort('profitNonPrem')">
                            Profit (No-Prem) <i class="fas fa-sort" id="icon-profitNonPrem" style="color: #444;"></i>
                        </th>

                        <th style="width: 4%">Actions</th>
                    </tr>
                </thead>
                <tbody id="resultsBody">
                    <tr><td colspan="9" class="empty-state">Click "Scan All Markets" to begin.</td></tr>
                </tbody>
            </table>
        </div>

        <div class="pagination">
            <span id="pageInfo">Showing 0-0 of 0</span>
            <div class="page-buttons">
                <button onclick="changePage(-1)" id="prevBtn" disabled>Previous</button>
                <button onclick="changePage(1)" id="nextBtn" disabled>Next</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>